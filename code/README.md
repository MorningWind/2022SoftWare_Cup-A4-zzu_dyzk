# 遥感图像自动解译系统——功能介绍 #
## 1.Web总体框架 ##
Web总体框架十分清晰简单，即分为主页和四个分页，四个分页分别对应**变化检测、地物分类、目标提取、目标检测**四项功能。

## 2.UI设计 ##
### 2.1侧栏UI设计 ###

**侧栏**位于整个Web界面的左侧，主要用于切换主页和分页，整体采用**蓝色背景和黑色字体**设计，与右侧主界面的白色背景醒目区分。

每个页面都在侧栏下方写上**页面名**和**提示字**，其中主页提示字表明我们队的参赛信息，分页提示字是对该单项功能的简单介绍，方便使用者快速了解功能。
侧栏可以任意展开或折叠。

### 2.2主页UI设计 ###

主页相当于是欢迎页，因此由**主页标题、系统名称（及队名）、系统概念图、欢迎语和使用提示**组成，背景使用最简约的白色。

### 2.3分页UI设计 ###

分页UI以**变化检测**为例，主要由**分页标题、欢迎语、功能示例图、图片上传模块和开始检测按键**组成，检测后的效果呈现将在下一部分继续说明。

## 3.功能设计 ##

### 3.1页面切换 ###

点击侧栏上方的五个页面进行网页之间的自由跳转，第一次打开网页时默认首先打开主页，且注意第一次跳转到分页时**需等候数秒时间加载**，第二次及以后便**无需等待**。

### 3.2图片上传 ###

点击**Browse files**即可上传图片（可接受**JPEG和PNG**两种图片格式，可以修改代码兼容其他格式）；

然后可切换本地目录，**双击**选中想检测的图片即可；

图片上传中会显示上传**进度条**，不过上传速度往往很快；上传完成后会显示上传图片的图片名及大小；

上传完后可以删除图片重新上传，也可以**直接再点击**Browse files重新上传。

### 3.3开始检测及异常提醒 ###

点击“**开始检测**”按键即可进行推理，第一次推理可能需要5、6秒时间，第二次及以后一般只需2秒即可推理完毕（因**本地算力**而异）。推理过程中页面右上角有“**running提示**”则说明正在推理，如果要中途取消推理，可点击“**Stop**”。

如果没有上传图片就点击“开始检测”（如果是变化检测，则只要有一张图片没有上传），则会有**红色的异常提示：“请先上传图片”**。
特别的，对于**变化检测**，只要有一张图片没有上传，也会提醒。

### 3.4推理结果的呈现 ###

推理结果的呈现包括**输入图像的展示、输出结果的展示、推理成功及继续使用的提示、输入和输出图的后台保存和保存路径的提示**。

如果是变化检测，则两张输入图像都会显示（即三张图并列一行便于对比），特别说明，只要将鼠标悬停在图片上，图片右上角就会出现“放大”功能按键，可以将图片放大便于仔细观察比对。

推理成功的提示已经说明，如果想要继续使用该项推理功能，直接上传新的图片即可，上传新图后下面的上一次推理结果会自动消失。如果想进行其他项推理，则直接切换网页即可。

### 3.5推理结果的保存 ###

输入图像和输出结果会保存在代码目录的results文件夹下，内有**change_det（变化检测）、cls（地物分类）、det（目标检测）、get（目标提取）**四个文件夹分别储存四项功能的推理结果；每个文件夹再点开，进一步分为**input和output**两个文件夹分别储存输入图像和输出结果（如果是变化检测则有两个input文件夹，分别存储**前时相图和后时相图**）。

第n次进行的该项推理则对应储存的图片名后缀数即是n，中间切换到其他推理模式也**不会有影响**。目前代码能保证每个功能最多可进行**99**次推理结果的保存（通过修改代码可很容易地扩大容量）。

### 3.6网页其他功能介绍 ###

网页的右上角有其他功能栏展开按键，点击即可看到其他诸多辅助功能。

这其中有部分是开发者开发时的便捷功能，但还有一部分给网页使用者也带来便利。从上往下而言：

1.Settings的**Wide mode**打勾进入宽屏显示模式；Theme可以根据用户喜好自己选择主题（主题包括背景颜色、字体颜色等），这里所默认使用的是我设定后的主题，使用者可以选择其他两套主题，也可以点击**Edit active theme**自由设定。

直接修改的主题设置只在本次使用中生效，且刷新网页后就会失效，可以点击**Copy theme to clipboard**复制设置，再打开代码目录下的.streamlit文件夹，将config.toml后缀改成txt后打开，将复制的内容粘贴（覆盖原来的内容），保存后再改为toml后缀，重新运行网页即可**永久保存**主题设置；

2.Record a screen cast可以录屏（可以设定录入声音）；

3.Clear cache可以清除网页缓存。
![H_JZNI `16_%UGE68(NA U8](https://user-images.githubusercontent.com/87363600/179435507-3541b040-efe2-4c86-9bc6-ddd1d59c9f14.png)
![)8C(8M R2AO43V1F2~CF002](https://user-images.githubusercontent.com/87363600/179435548-aa56fe7f-361c-41b1-b9e6-a8f88e282b39.png)



## 结语 ##
由于文件大小的限制，这里不过多放置图片体现效果。

可以下载主目录下的**概要设计文档**.docx更进一步查看项目的功能。但具体的UI呈现和交互性功能，以及实际的预测效果需要**亲自体验**才能获得直接的感受。

注意：

1.**不同的模型**会有不同程度的预测效果。

2.结束使用后，**直接关闭**网页和cmd窗口即可（或者在cmd窗口按下Ctrl+C，再输入y确定回车）。

3.如有功能上的不足，敬请谅解，如有机会我们后续将**继续完善**，甚至部署到服务器端。
